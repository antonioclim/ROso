@startuml vm_vs_container
!include ../../diagrame_common/skin.puml
title Mașini Virtuale vs Containere

skinparam rectangle {
    roundCorner 8
}

rectangle "**MAȘINI VIRTUALE**" as vm #E3F2FD {
    
    rectangle "**Infrastructure**" as vm_hw #ECEFF1 {
        rectangle "Hardware (CPU, RAM, Disk)" as hw1 #FFFFFF
    }
    
    rectangle "**Hypervisor**\n(VMware, Hyper-V, KVM)" as hyper #FFE0B2
    
    rectangle "VM1" as vm1 #C8E6C9 {
        rectangle "App A" as app1 #FFFFFF
        rectangle "Bins/Libs" as lib1 #FFFFFF
        rectangle "**Guest OS**\n(Ubuntu)" as os1 #FFF9C4
    }
    
    rectangle "VM2" as vm2 #C8E6C9 {
        rectangle "App B" as app2 #FFFFFF
        rectangle "Bins/Libs" as lib2 #FFFFFF
        rectangle "**Guest OS**\n(Windows)" as os2 #FFF9C4
    }
    
    note bottom of vm
    **Caracteristici VM:**
    • Boot: 30-60 sec
    • Size: 5-50 GB
    • RAM: 500MB-2GB overhead
    • Izolare: **COMPLETĂ**
    • Densitate: 10-20 VM/host
    end note
}

rectangle "**CONTAINERE**" as cont #C8E6C9 {
    
    rectangle "**Infrastructure**" as cont_hw #ECEFF1 {
        rectangle "Hardware (CPU, RAM, Disk)" as hw2 #FFFFFF
    }
    
    rectangle "**Host OS** (Linux Kernel)" as host #FFE0B2
    
    rectangle "**Container Runtime**\n(Docker, containerd)" as runtime #FFF9C4
    
    rectangle "C1" as c1 #E3F2FD {
        rectangle "App A" as capp1 #FFFFFF
        rectangle "Bins/Libs" as clib1 #FFFFFF
    }
    
    rectangle "C2" as c2 #E3F2FD {
        rectangle "App B" as capp2 #FFFFFF
        rectangle "Bins/Libs" as clib2 #FFFFFF
    }
    
    rectangle "C3" as c3 #E3F2FD {
        rectangle "App C" as capp3 #FFFFFF
        rectangle "Bins/Libs" as clib3 #FFFFFF
    }
    
    note bottom of cont
    **Caracteristici Container:**
    • Boot: **1-5 sec**
    • Size: **100MB-1GB**
    • RAM: 10-100MB overhead
    • Izolare: Proces (kernel partajat)
    • Densitate: **100-1000/host**
    end note
}

vm -[hidden]right-> cont

legend bottom
|= Aspect |= VM |= Container |
| Izolare | Completă (hardware) | Proces (namespaces) |
| Overhead | Mare | **Minim** |
| Startup | Minute | **Secunde** |
| OS diferite | ✅ Da | ❌ Doar Linux |
| Securitate | Foarte bună | Bună (kernel shared) |
| Use Case | Izolare strictă | **Microservicii, CI/CD** |
endlegend

@enduml