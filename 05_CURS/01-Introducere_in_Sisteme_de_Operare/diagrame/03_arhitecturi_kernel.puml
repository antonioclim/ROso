@startuml arhitecturi_kernel
!include ../../diagrame_common/skin.puml
title Arhitecturi de Kernel

skinparam rectangle {
    roundCorner 5
}

rectangle "**KERNEL MONOLITIC**\n(Linux, FreeBSD)" as mono {
    rectangle "User Space" as mono_user #E3F2FD {
        rectangle "Aplicații" as mono_apps #FFFFFF
    }
    
    rectangle "Kernel Space" as mono_kernel #FFCCBC {
        rectangle "Scheduler" as mono_sched #FFE0B2
        rectangle "Memory Mgr" as mono_mm #FFE0B2
        rectangle "File System" as mono_fs #FFE0B2
        rectangle "Drivere" as mono_drv #FFE0B2
        rectangle "Network" as mono_net #FFE0B2
    }
    
    note bottom of mono_kernel
    **Tot în kernel space**
    ✓ Rapid (apeluri directe)
    ✗ Un bug crăpă totul
    end note
}

rectangle "**MICROKERNEL**\n(Minix, QNX, seL4)" as micro {
    rectangle "User Space" as micro_user #E3F2FD {
        rectangle "Aplicații" as micro_apps #FFFFFF
        rectangle "FS Server" as micro_fs #C8E6C9
        rectangle "Net Server" as micro_net #C8E6C9
        rectangle "Drivere" as micro_drv #C8E6C9
    }
    
    rectangle "Kernel Space" as micro_kernel #FFCCBC {
        rectangle "IPC" as micro_ipc #FFE0B2
        rectangle "Basic\nScheduler" as micro_sched #FFE0B2
    }
    
    note bottom of micro_kernel
    **Minimal în kernel**
    ✓ Izolare (crash separat)
    ✗ Overhead IPC
    end note
}

rectangle "**KERNEL HIBRID**\n(Windows NT, macOS)" as hybrid {
    rectangle "User Space" as hybrid_user #E3F2FD {
        rectangle "Aplicații" as hybrid_apps #FFFFFF
        rectangle "Subsisteme" as hybrid_sub #C8E6C9
    }
    
    rectangle "Kernel Space" as hybrid_kernel #FFCCBC {
        rectangle "Core Services" as hybrid_core #FFE0B2
        rectangle "Drivere" as hybrid_drv #FFE0B2
        rectangle "FS, Net" as hybrid_fs #FFE0B2
    }
    
    note bottom of hybrid_kernel
    **Compromis**
    ✓ Flexibil
    ✓ Performant
    end note
}

mono -[hidden]right- micro
micro -[hidden]right- hybrid

@enduml
