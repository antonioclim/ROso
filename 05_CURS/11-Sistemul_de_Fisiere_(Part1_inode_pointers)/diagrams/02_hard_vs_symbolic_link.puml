@startuml hard_vs_symbolic_link
!include ../../diagrame_common/skin.puml
title Hard Link vs Symbolic Link

skinparam rectangle {
    roundCorner 8
}

rectangle "**HARD LINK**" as hard #C8E6C9 {
    
    rectangle "Director /home/user" as hard_dir #FFFFFF {
        rectangle "original.txt\ninode: **12345**" as hard_orig #E3F2FD
        rectangle "hardlink.txt\ninode: **12345**" as hard_link #E3F2FD
    }
    
    rectangle "Inode Table" as hard_inode #FFF9C4 {
        rectangle "**Inode 12345**\nLinks: 2\nSize: 6 bytes" as hard_in #FFFFFF
    }
    
    rectangle "Data Block 100\n\"Hello\\n\"" as hard_data #FFE0B2
    
    hard_orig -[#27AE60,bold]-> hard_in
    hard_link -[#27AE60,bold]-> hard_in
    hard_in -[#3498DB]-> hard_data
    
    note bottom of hard
    ✓ **Același inode** (12345)
    ✓ La ștergere original → datele rămân
    ✗ Nu poate cross filesystem
    ✗ Nu poate link la directoare
    end note
}

rectangle "**SYMBOLIC LINK**" as sym #E3F2FD {
    
    rectangle "Director /home/user" as sym_dir #FFFFFF {
        rectangle "original.txt\ninode: **12345**" as sym_orig #C8E6C9
        rectangle "symlink.txt\ninode: **67890**" as sym_link #FCE4EC
    }
    
    rectangle "Inode Table" as sym_inode #FFF9C4 {
        rectangle "**Inode 12345**\nLinks: 1\nType: file" as sym_in1 #FFFFFF
        rectangle "**Inode 67890**\nLinks: 1\nType: **symlink**\nContent: \"original.txt\"" as sym_in2 #FFFFFF
    }
    
    rectangle "Data Block 100\n\"Hello\\n\"" as sym_data #FFE0B2
    
    sym_orig -[#27AE60,bold]-> sym_in1
    sym_link -[#E74C3C,dashed]-> sym_in2 : inode diferit!
    sym_in2 -[#E74C3C,dashed]-> sym_orig : pointează\nla cale
    sym_in1 -[#3498DB]-> sym_data
    
    note bottom of sym
    ✓ **Inode diferit** (67890)
    ✓ Poate cross filesystem
    ✓ Poate link la directoare
    ✗ La ștergere original → **BROKEN LINK!**
    end note
}

hard -[hidden]right-> sym

legend bottom
|= Aspect |= Hard Link |= Symbolic Link |
| Inode | ACELAȘI | DIFERIT |
| Cross-filesystem | ❌ | ✅ |
| Link la directoare | ❌ | ✅ |
| La ștergere target | Datele rămân | Link broken |
| Spațiu | Doar dir entry | Dir entry + inode |
endlegend

@enduml