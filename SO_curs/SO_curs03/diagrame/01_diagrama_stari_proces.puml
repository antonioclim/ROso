@startuml diagrama_stari_proces
!include ../../diagrame_common/skin.puml
title Diagrama de Stări a unui Proces

skinparam state {
    BackgroundColor #FAFAFA
    BorderColor #2C3E50
    FontSize 14
}

[*] --> NEW : fork()/exec()

state NEW #E8F5E9 {
}
note right of NEW
  Alocare PCB
  și resurse
end note

NEW --> READY : admitted\n(scheduler acceptă)

state READY #BBDEFB {
}
note right of READY
  În Ready Queue
  Așteaptă CPU
end note

READY --> RUNNING : **dispatch**\n(scheduler alege)

state RUNNING #C8E6C9 {
}
note right of RUNNING
  Execută pe CPU
  (un singur proces)
end note

RUNNING --> READY : **preemption**\n(timer/prioritate)

RUNNING --> WAITING : I/O request\nsau wait()

state WAITING #FFF9C4 {
}
note left of WAITING
  Blocked pe:
  • I/O
  • Semaphore
  • Child process
end note

WAITING --> READY : I/O complete\nsau event

RUNNING --> TERMINATED : exit()

state TERMINATED #FFCDD2 {
}
note right of TERMINATED
  **ZOMBIE**
  Așteaptă wait()
  de la părinte
end note

TERMINATED --> [*] : parent calls\nwait()

legend right
  |= Stare |= Descriere |
  | NEW | Proces creat |
  | READY | Pregătit, așteaptă CPU |
  | RUNNING | Execută activ |
  | WAITING | Blocat pe eveniment |
  | TERMINATED | Finalizat (zombie) |
endlegend

@enduml
