<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 700" width="600" height="700">
  <defs>
    <style>
      .box { fill: #f8f9fa; stroke: #343a40; stroke-width: 2; rx: 8; }
      .box-setup { fill: #e3f2fd; stroke: #1976d2; }
      .box-parse { fill: #fff3e0; stroke: #f57c00; }
      .box-func { fill: #e8f5e9; stroke: #388e3c; }
      .box-main { fill: #fce4ec; stroke: #c2185b; }
      .box-output { fill: #f3e5f5; stroke: #7b1fa2; }
      .arrow { fill: none; stroke: #495057; stroke-width: 2; marker-end: url(#arrowhead); }
      .label { font-family: 'Segoe UI', Arial, sans-serif; font-size: 14px; fill: #212529; }
      .title { font-family: 'Segoe UI', Arial, sans-serif; font-size: 18px; font-weight: bold; fill: #212529; }
      .code { font-family: 'Consolas', 'Monaco', monospace; font-size: 11px; fill: #495057; }
      .section-label { font-family: 'Segoe UI', Arial, sans-serif; font-size: 12px; fill: #6c757d; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#495057"/>
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="300" y="30" text-anchor="middle" class="title">Structura Standard Script Bash</text>
  
  <!-- SETUP_SI_VALIDARE -->
  <rect x="150" y="50" width="300" height="90" class="box box-setup"/>
  <text x="300" y="75" text-anchor="middle" class="label" font-weight="bold">1. SETUP_SI_VALIDARE</text>
  <text x="170" y="95" class="code">#!/bin/bash</text>
  <text x="170" y="110" class="code">set -euo pipefail</text>
  <text x="170" y="125" class="code">readonly SCRIPT_NAME=$(basename "$0")</text>
  
  <line x1="300" y1="140" x2="300" y2="165" class="arrow"/>
  
  <!-- PARSEAZA_ARGUMENTE -->
  <rect x="150" y="170" width="300" height="90" class="box box-parse"/>
  <text x="300" y="195" text-anchor="middle" class="label" font-weight="bold">2. PARSEAZA_ARGUMENTE</text>
  <text x="170" y="215" class="code">while getopts "vf:h" opt; do</text>
  <text x="170" y="230" class="code">  case $opt in ... esac</text>
  <text x="170" y="245" class="code">done</text>
  
  <line x1="300" y1="260" x2="300" y2="285" class="arrow"/>
  
  <!-- DEFINIRE_FUNCTII -->
  <rect x="150" y="290" width="300" height="100" class="box box-func"/>
  <text x="300" y="315" text-anchor="middle" class="label" font-weight="bold">3. DEFINIRE_FUNCTII</text>
  <text x="170" y="335" class="code">usage() { ... }</text>
  <text x="170" y="350" class="code">log_info() { ... }</text>
  <text x="170" y="365" class="code">process_file() { ... }</text>
  <text x="170" y="380" class="code">cleanup() { trap ... }</text>
  
  <line x1="300" y1="390" x2="300" y2="415" class="arrow"/>
  
  <!-- PROCESARE_PRINCIPALA -->
  <rect x="150" y="420" width="300" height="90" class="box box-main"/>
  <text x="300" y="445" text-anchor="middle" class="label" font-weight="bold">4. PROCESARE_PRINCIPALA</text>
  <text x="170" y="465" class="code">main() {</text>
  <text x="170" y="480" class="code">  validate_input</text>
  <text x="170" y="495" class="code">  for file in "$@"; do process; done</text>
  
  <line x1="300" y1="510" x2="300" y2="535" class="arrow"/>
  
  <!-- AFISARE_REZULTATE -->
  <rect x="150" y="540" width="300" height="80" class="box box-output"/>
  <text x="300" y="565" text-anchor="middle" class="label" font-weight="bold">5. AFISARE_REZULTATE</text>
  <text x="170" y="585" class="code">echo "Rezultat: $total"</text>
  <text x="170" y="600" class="code">exit $exit_code</text>
  
  <!-- Side annotations -->
  <text x="470" y="95" class="section-label">Strict mode, constante</text>
  <text x="470" y="215" class="section-label">getopts, validare input</text>
  <text x="470" y="340" class="section-label">DRY: funcții reutilizabile</text>
  <text x="470" y="465" class="section-label">Logica principală</text>
  <text x="470" y="580" class="section-label">Output, exit code</text>
  
  <!-- Footer -->
  <text x="300" y="660" text-anchor="middle" class="section-label">Seminarul 03 | Sisteme de Operare | ASE București</text>
</svg>
