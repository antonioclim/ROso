<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 750 450" width="750" height="450">
  <defs>
    <style>
      .title { font-family: 'Segoe UI', Arial, sans-serif; font-size: 18px; font-weight: bold; fill: #212529; }
      .label { font-family: 'Segoe UI', Arial, sans-serif; font-size: 13px; fill: #212529; }
      .code { font-family: 'Consolas', 'Monaco', monospace; font-size: 12px; fill: #495057; }
      .box-cmd { fill: #e3f2fd; stroke: #1976d2; stroke-width: 2; rx: 6; }
      .box-file { fill: #fff3e0; stroke: #f57c00; stroke-width: 2; rx: 6; }
      .box-stream { fill: #f5f5f5; stroke: #9e9e9e; stroke-width: 1; rx: 4; }
      .arrow { fill: none; stroke: #4caf50; stroke-width: 3; marker-end: url(#arrow-green); }
      .arrow-red { fill: none; stroke: #f44336; stroke-width: 3; marker-end: url(#arrow-red); }
      .pipe { fill: none; stroke: #2196f3; stroke-width: 4; marker-end: url(#arrow-blue); }
      .section { font-family: 'Segoe UI', Arial, sans-serif; font-size: 11px; fill: #757575; }
    </style>
    <marker id="arrow-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4caf50"/>
    </marker>
    <marker id="arrow-red" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#f44336"/>
    </marker>
    <marker id="arrow-blue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2196f3"/>
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="375" y="30" text-anchor="middle" class="title">Pipe și Redirect în Unix</text>
  
  <!-- SECTION 1: Basic I/O -->
  <text x="50" y="70" class="label" font-weight="bold">1. Fluxuri standard (stdin/stdout/stderr)</text>
  
  <!-- stdin -->
  <rect x="50" y="90" width="80" height="35" class="box-stream"/>
  <text x="90" y="112" text-anchor="middle" class="code">stdin (0)</text>
  
  <!-- Command box -->
  <rect x="200" y="80" width="120" height="55" class="box-cmd"/>
  <text x="260" y="105" text-anchor="middle" class="label" font-weight="bold">Comandă</text>
  <text x="260" y="125" text-anchor="middle" class="code">grep, sed, awk</text>
  
  <!-- stdout -->
  <rect x="390" y="80" width="80" height="35" class="box-stream"/>
  <text x="430" y="102" text-anchor="middle" class="code">stdout (1)</text>
  
  <!-- stderr -->
  <rect x="390" y="120" width="80" height="35" class="box-stream"/>
  <text x="430" y="142" text-anchor="middle" class="code">stderr (2)</text>
  
  <!-- Arrows -->
  <line x1="130" y1="107" x2="195" y2="107" class="arrow"/>
  <line x1="320" y1="97" x2="385" y2="97" class="arrow"/>
  <line x1="320" y1="120" x2="385" y2="137" class="arrow-red"/>
  
  <!-- SECTION 2: Redirect -->
  <text x="50" y="190" class="label" font-weight="bold">2. Redirect ( &gt; , &gt;&gt; , &lt; , 2&gt; )</text>
  
  <!-- Input file -->
  <rect x="50" y="210" width="90" height="40" class="box-file"/>
  <text x="95" y="235" text-anchor="middle" class="code">input.txt</text>
  
  <!-- Command -->
  <rect x="200" y="205" width="120" height="50" class="box-cmd"/>
  <text x="260" y="230" text-anchor="middle" class="label" font-weight="bold">sort</text>
  <text x="260" y="248" text-anchor="middle" class="section">&lt; input.txt</text>
  
  <!-- Output file -->
  <rect x="390" y="200" width="90" height="40" class="box-file"/>
  <text x="435" y="225" text-anchor="middle" class="code">out.txt</text>
  <text x="435" y="260" text-anchor="middle" class="section">&gt; (overwrite)</text>
  
  <!-- Error file -->
  <rect x="390" y="270" width="90" height="40" class="box-file"/>
  <text x="435" y="295" text-anchor="middle" class="code">err.log</text>
  <text x="435" y="325" text-anchor="middle" class="section">2&gt; (stderr)</text>
  
  <!-- Arrows -->
  <line x1="140" y1="230" x2="195" y2="230" class="arrow"/>
  <line x1="320" y1="220" x2="385" y2="220" class="arrow"/>
  <line x1="320" y1="245" x2="385" y2="290" class="arrow-red"/>
  
  <!-- SECTION 3: Pipe -->
  <text x="50" y="370" class="label" font-weight="bold">3. Pipe ( | ) - conectează stdout → stdin</text>
  
  <!-- Command 1 -->
  <rect x="50" y="390" width="100" height="45" class="box-cmd"/>
  <text x="100" y="412" text-anchor="middle" class="code">cat file</text>
  <text x="100" y="428" text-anchor="middle" class="section">produce output</text>
  
  <!-- Pipe 1 -->
  <line x1="150" y1="412" x2="210" y2="412" class="pipe"/>
  <text x="180" y="400" text-anchor="middle" class="code">|</text>
  
  <!-- Command 2 -->
  <rect x="215" y="390" width="100" height="45" class="box-cmd"/>
  <text x="265" y="412" text-anchor="middle" class="code">grep err</text>
  <text x="265" y="428" text-anchor="middle" class="section">filtrează</text>
  
  <!-- Pipe 2 -->
  <line x1="315" y1="412" x2="375" y2="412" class="pipe"/>
  <text x="345" y="400" text-anchor="middle" class="code">|</text>
  
  <!-- Command 3 -->
  <rect x="380" y="390" width="100" height="45" class="box-cmd"/>
  <text x="430" y="412" text-anchor="middle" class="code">wc -l</text>
  <text x="430" y="428" text-anchor="middle" class="section">numără linii</text>
  
  <!-- Output -->
  <line x1="480" y1="412" x2="540" y2="412" class="arrow"/>
  <text x="560" y="418" class="code">42</text>
  
  <!-- Legend box -->
  <rect x="520" y="80" width="200" height="100" rx="5" fill="#fafafa" stroke="#e0e0e0"/>
  <text x="620" y="100" text-anchor="middle" class="label" font-weight="bold">Legendă</text>
  <text x="535" y="120" class="code">&gt;  overwrite file</text>
  <text x="535" y="138" class="code">&gt;&gt; append to file</text>
  <text x="535" y="156" class="code">&lt;  read from file</text>
  <text x="535" y="174" class="code">2&gt; redirect stderr</text>
  
  <!-- Combined example -->
  <rect x="520" y="200" width="200" height="70" rx="5" fill="#e8f5e9" stroke="#4caf50"/>
  <text x="620" y="220" text-anchor="middle" class="label" font-weight="bold">Combinat:</text>
  <text x="530" y="242" class="code">cmd &gt; out 2&gt;&amp;1</text>
  <text x="530" y="260" class="section">stderr → stdout → out</text>
</svg>
