<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500" width="800" height="500">
  <defs>
    <linearGradient id="globalGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#e3f2fd;stop-opacity:1"/>
      <stop offset="100%" style="stop-color:#bbdefb;stop-opacity:1"/>
    </linearGradient>
    <linearGradient id="localGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#fff3e0;stop-opacity:1"/>
      <stop offset="100%" style="stop-color:#ffe0b2;stop-opacity:1"/>
    </linearGradient>
    <linearGradient id="funcGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f3e5f5;stop-opacity:1"/>
      <stop offset="100%" style="stop-color:#e1bee7;stop-opacity:1"/>
    </linearGradient>
  </defs>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#1565c0">
    Scope Variabile în Funcții Bash
  </text>
  
  <!-- Global Scope Box -->
  <rect x="50" y="50" width="700" height="420" rx="10" ry="10" fill="url(#globalGrad)" stroke="#1565c0" stroke-width="2"/>
  <text x="70" y="80" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1565c0">SCOPE GLOBAL (Script)</text>
  
  <!-- Global Variable -->
  <rect x="80" y="100" width="180" height="60" rx="5" ry="5" fill="#fff" stroke="#2196f3" stroke-width="2"/>
  <text x="170" y="125" text-anchor="middle" font-family="monospace" font-size="14" fill="#333">count=10</text>
  <text x="170" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">variabilă globală</text>
  
  <!-- Function Box -->
  <rect x="100" y="180" width="600" height="200" rx="8" ry="8" fill="url(#funcGrad)" stroke="#7b1fa2" stroke-width="2"/>
  <text x="120" y="210" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#7b1fa2">FUNCȚIE: increment()</text>
  
  <!-- Without local -->
  <rect x="130" y="230" width="250" height="130" rx="5" ry="5" fill="#ffebee" stroke="#c62828" stroke-width="2"/>
  <text x="255" y="255" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#c62828">❌ FĂRĂ local</text>
  <text x="145" y="280" font-family="monospace" font-size="12" fill="#333">count=$((count + 1))</text>
  <text x="145" y="305" font-family="Arial, sans-serif" font-size="11" fill="#c62828">→ Modifică variabila GLOBALĂ!</text>
  <text x="145" y="325" font-family="Arial, sans-serif" font-size="11" fill="#c62828">→ count devine 11 peste tot</text>
  <text x="145" y="345" font-family="monospace" font-size="10" fill="#666"># După funcție: count=11</text>
  
  <!-- With local -->
  <rect x="420" y="230" width="250" height="130" rx="5" ry="5" fill="#e8f5e9" stroke="#2e7d32" stroke-width="2"/>
  <text x="545" y="255" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2e7d32">✓ CU local</text>
  <text x="435" y="280" font-family="monospace" font-size="12" fill="#333">local count=$((count + 1))</text>
  <text x="435" y="305" font-family="Arial, sans-serif" font-size="11" fill="#2e7d32">→ Creează variabilă LOCALĂ</text>
  <text x="435" y="325" font-family="Arial, sans-serif" font-size="11" fill="#2e7d32">→ Globala rămâne 10</text>
  <text x="435" y="345" font-family="monospace" font-size="10" fill="#666"># După funcție: count=10</text>
  
  <!-- Arrow showing global modification -->
  <path d="M255 230 L255 160 L170 160" fill="none" stroke="#c62828" stroke-width="2" marker-end="url(#arrowRed)"/>
  <defs>
    <marker id="arrowRed" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#c62828"/>
    </marker>
  </defs>
  
  <!-- Local scope indicator -->
  <rect x="430" y="275" width="230" height="30" rx="3" ry="3" fill="url(#localGrad)" stroke="#ff9800" stroke-width="1" stroke-dasharray="4"/>
  
  <!-- Result after function -->
  <rect x="80" y="400" width="300" height="50" rx="5" ry="5" fill="#fff" stroke="#333" stroke-width="1"/>
  <text x="90" y="420" font-family="monospace" font-size="12" fill="#333">echo "După funcție: $count"</text>
  <text x="90" y="440" font-family="Arial, sans-serif" font-size="11" fill="#666">Rezultat depinde de folosirea local!</text>
  
  <!-- Legend -->
  <rect x="450" y="410" width="280" height="50" rx="5" ry="5" fill="#fafafa" stroke="#999" stroke-width="1"/>
  <text x="460" y="430" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#333">Regulă:</text>
  <text x="460" y="448" font-family="Arial, sans-serif" font-size="11" fill="#333">Folosește local în funcții pentru izolare!</text>
</svg>
