{
  "metadata": {
    "title": "Quiz formativ — Scripting Bash avansat (SEM05)",
    "course": "Sisteme de Operare",
    "version": "1.1.0",
    "total_points": 100,
    "time_limit_minutes": 25,
    "passing_score": 60,
    "generated_at": "2026-02-04 23:10:01",
    "author": "ing. dr. Antonio Clim",
    "institution": "ASE București - CSIE"
  },
  "questions": [
    {
      "id": "q01",
      "type": "multiple_choice",
      "topic": "Funcții",
      "bloom_level": "understand",
      "points": 5,
      "question": "Având codul:\n```bash\n#!/bin/bash\ncount=10\n\nincrement() {\n    count=$((count + 1))\n    echo \"În funcție: $count\"\n}\n\nincrement\necho \"După funcție: $count\"\n```\n\nCe afișează ultima linie?",
      "answers": [
        {
          "text": "După funcție: 10",
          "correct": false,
          "feedback": "Crede că variabilele sunt locale by default"
        },
        {
          "text": "După funcție: 11",
          "correct": true,
          "feedback": "CORECT - variabilele din funcții sunt GLOBALE by default"
        },
        {
          "text": "După funcție: (gol)",
          "correct": false,
          "feedback": "Confundă cu comportament undefined"
        },
        {
          "text": "Eroare - count nu e definit în main",
          "correct": false,
          "feedback": "Nu înțelege că variabilele sunt globale"
        }
      ]
    },
    {
      "id": "q02",
      "type": "multiple_choice",
      "topic": "Funcții",
      "bloom_level": "understand",
      "points": 6,
      "question": "Având codul:\n```bash\n#!/bin/bash\n\nget_value() {\n    return 42\n}\n\nresult=$(get_value)\necho \"Result: '$result'\"\n```\n\nCe afișează?",
      "answers": [
        {
          "text": "Result: '42'",
          "correct": false,
          "feedback": "Confundă return cu echo/print din alte limbaje"
        },
        {
          "text": "Result: '' (string gol)",
          "correct": true,
          "feedback": "CORECT - return setează exit code, $() capturează stdout"
        },
        {
          "text": "Result: '0'",
          "correct": false,
          "feedback": "Confundă cu exit code default"
        },
        {
          "text": "Eroare de sintaxă",
          "correct": false,
          "feedback": "Sintaxa e validă"
        }
      ]
    },
    {
      "id": "q03",
      "type": "multiple_choice",
      "topic": "Funcții",
      "bloom_level": "understand",
      "points": 5,
      "question": "Având codul:\n```bash\n#!/bin/bash\n# Script: test.sh, rulat cu: ./test.sh SCRIPT_ARG\n\nshow_arg() {\n    echo \"Funcție vede: $1\"\n}\n\necho \"Script vede: $1\"\nshow_arg \"FUNC_ARG\"\n```\n\nRulat cu ./test.sh SCRIPT_ARG, ce afișează a doua linie?",
      "answers": [
        {
          "text": "Funcție vede: SCRIPT_ARG",
          "correct": false,
          "feedback": "Confundă scope-ul argumentelor"
        },
        {
          "text": "Funcție vede: FUNC_ARG",
          "correct": true,
          "feedback": "CORECT - $1 în funcție e argumentul funcției"
        },
        {
          "text": "Funcție vede: (gol)",
          "correct": false,
          "feedback": "Funcția primește argument explicit"
        },
        {
          "text": "Funcție vede: $1",
          "correct": false,
          "feedback": "Variabilele se expandează"
        }
      ]
    },
    {
      "id": "q04",
      "type": "multiple_choice",
      "topic": "Arrays",
      "bloom_level": "remember",
      "points": 4,
      "question": "Având codul:\n```bash\n#!/bin/bash\narr=(\"first\" \"second\" \"third\")\necho \"${arr[1]}\"\n```\n\nCe afișează?",
      "answers": [
        {
          "text": "first",
          "correct": false,
          "feedback": "Crede că indexarea începe de la 1"
        },
        {
          "text": "second",
          "correct": true,
          "feedback": "CORECT - arrays în Bash încep de la 0"
        },
        {
          "text": "third",
          "correct": false,
          "feedback": "Confuzie de indexare"
        },
        {
          "text": "Eroare - indexul 1 nu există",
          "correct": false,
          "feedback": "Indexul 1 există (al doilea element)"
        }
      ]
    },
    {
      "id": "q05",
      "type": "multiple_choice",
      "topic": "Arrays",
      "bloom_level": "understand",
      "points": 6,
      "question": "Având codul:\n```bash\n#!/bin/bash\n# Fără declare -A\nconfig[host]=\"localhost\"\nconfig[port]=\"8080\"\necho \"Chei: ${!config[@]}\"\n```\n\nCe afișează?",
      "answers": [
        {
          "text": "Chei: host port",
          "correct": false,
          "feedback": "Așa ar fi cu declare -A"
        },
        {
          "text": "Chei: 0",
          "correct": true,
          "feedback": "CORECT - fără declare -A, 'host' și 'port' devin 0"
        },
        {
          "text": "Chei: 0 0",
          "correct": false,
          "feedback": "Doar o cheie rămâne (suprascrisă)"
        },
        {
          "text": "Eroare - config nu e declarat",
          "correct": false,
          "feedback": "Arrays indexate se creează implicit"
        }
      ]
    },
    {
      "id": "q06",
      "type": "multiple_choice",
      "topic": "Arrays",
      "bloom_level": "apply",
      "points": 6,
      "question": "Având codul:\n```bash\n#!/bin/bash\nfiles=(\"file one.txt\" \"file two.txt\")\n\ncount=0\nfor f in ${files[@]}; do\n    ((count++))\ndone\necho \"Iterații: $count\"\n```\n\nCâte iterații are loop-ul?",
      "answers": [
        {
          "text": "2",
          "correct": false,
          "feedback": "Așa ar fi CU ghilimele"
        },
        {
          "text": "4",
          "correct": true,
          "feedback": "CORECT - word splitting separă fiecare element"
        },
        {
          "text": "1",
          "correct": false,
          "feedback": "Nu înțelege iterarea peste array"
        },
        {
          "text": "Eroare",
          "correct": false,
          "feedback": "Codul e valid sintactic"
        }
      ]
    },
    {
      "id": "q07",
      "type": "multiple_choice",
      "topic": "Arrays",
      "bloom_level": "apply",
      "points": 5,
      "question": "Având codul:\n```bash\n#!/bin/bash\narr=(\"a\" \"b\" \"c\" \"d\" \"e\")\nunset arr[2]\necho \"Indici: ${!arr[@]}\"\necho \"Lungime: ${#arr[@]}\"\n```\n\nCe afișează?",
      "answers": [
        {
          "text": "Indici: 0 1 2 3 și Lungime: 4",
          "correct": false,
          "feedback": "Crede că array-ul se reindexează"
        },
        {
          "text": "Indici: 0 1 3 4 și Lungime: 4",
          "correct": true,
          "feedback": "CORECT - array devine sparse, indicii nu se schimbă"
        },
        {
          "text": "Indici: 0 1 2 3 4 și Lungime: 5",
          "correct": false,
          "feedback": "Nu înțelege efectul unset"
        },
        {
          "text": "Eroare",
          "correct": false,
          "feedback": "Codul e valid"
        }
      ]
    },
    {
      "id": "q08",
      "type": "multiple_choice",
      "topic": "Stabilitate",
      "bloom_level": "understand",
      "points": 5,
      "question": "Având codul:\n```bash\n#!/bin/bash\nset -euo pipefail\n\nx=\"${UNDEFINED_VAR}\"\necho \"Continuă...\"\n```\n\nCe se întâmplă?",
      "answers": [
        {
          "text": "Afișează Continuă... cu x=\"\"",
          "correct": false,
          "feedback": "Așa ar fi FĂRĂ set -u"
        },
        {
          "text": "Eroare: unbound variable",
          "correct": true,
          "feedback": "CORECT - set -u oprește la variabile nedefinite"
        },
        {
          "text": "Afișează Continuă... cu x=\"UNDEFINED_VAR\"",
          "correct": false,
          "feedback": "Variabilele se expandează, nu rămân literal"
        },
        {
          "text": "Depinde de versiunea Bash",
          "correct": false,
          "feedback": "Comportamentul e consistent"
        }
      ]
    },
    {
      "id": "q09",
      "type": "multiple_choice",
      "topic": "Stabilitate",
      "bloom_level": "understand",
      "points": 6,
      "question": "Având codul:\n```bash\n#!/bin/bash\nset -e\n\nif false; then\n    echo \"În if\"\nfi\necho \"După if\"\n```\n\nCe se întâmplă?",
      "answers": [
        {
          "text": "Script se oprește la false",
          "correct": false,
          "feedback": "set -e NU se aplică în condiții if"
        },
        {
          "text": "Afișează După if",
          "correct": true,
          "feedback": "CORECT - set -e nu funcționează în context de test"
        },
        {
          "text": "Afișează În if apoi După if",
          "correct": false,
          "feedback": "Condiția false e falsă, corpul if nu se execută"
        },
        {
          "text": "Eroare de sintaxă",
          "correct": false,
          "feedback": "Sintaxa e validă"
        }
      ]
    },
    {
      "id": "q10",
      "type": "multiple_choice",
      "topic": "Stabilitate",
      "bloom_level": "apply",
      "points": 5,
      "question": "Având codul:\n```bash\n#!/bin/bash\nset -e\n\nfalse || echo \"Rescued\"\necho \"Continuă\"\n```\n\nCe afișează?",
      "answers": [
        {
          "text": "Nimic - script se oprește",
          "correct": false,
          "feedback": "|| salvează eroarea"
        },
        {
          "text": "Rescued apoi Continuă",
          "correct": true,
          "feedback": "CORECT - || dezactivează set -e pentru acea comandă"
        },
        {
          "text": "Doar Continuă",
          "correct": false,
          "feedback": "Rescued se afișează pentru că false eșuează"
        },
        {
          "text": "Doar Rescued",
          "correct": false,
          "feedback": "Scriptul continuă după ||"
        }
      ]
    },
    {
      "id": "q11",
      "type": "multiple_choice",
      "topic": "Stabilitate",
      "bloom_level": "understand",
      "points": 5,
      "question": "Având codul:\n```bash\n#!/bin/bash\nset -o pipefail\n\nfalse | true | true\necho \"Exit: $?\"\n```\n\nCe afișează?",
      "answers": [
        {
          "text": "Exit: 0",
          "correct": false,
          "feedback": "Așa ar fi FĂRĂ pipefail"
        },
        {
          "text": "Exit: 1",
          "correct": true,
          "feedback": "CORECT - pipefail returnează prima eroare din pipe"
        },
        {
          "text": "Exit: 2",
          "correct": false,
          "feedback": "Doar primul exit code non-zero contează"
        },
        {
          "text": "Nimic - script se oprește",
          "correct": false,
          "feedback": "fără set -e, scriptul continuă"
        }
      ]
    },
    {
      "id": "q12",
      "type": "multiple_choice",
      "topic": "Stabilitate",
      "bloom_level": "apply",
      "points": 6,
      "question": "Având codul:\n```bash\n#!/bin/bash\nset -eo pipefail\n\ncat /nonexistent | grep \"pattern\"\necho \"După pipe\"\n```\n\nCe se întâmplă?",
      "answers": [
        {
          "text": "Afișează eroarea de la cat, apoi După pipe",
          "correct": false,
          "feedback": "set -e oprește scriptul"
        },
        {
          "text": "Script se oprește la eroarea cat",
          "correct": true,
          "feedback": "CORECT - set -e + pipefail = erori din pipe opresc"
        },
        {
          "text": "Afișează După pipe (grep salvează)",
          "correct": false,
          "feedback": "pipefail propagă eroarea din cat"
        },
        {
          "text": "Depinde de existența fișierului pattern",
          "correct": false,
          "feedback": "Eroarea cat apare prima"
        }
      ]
    },
    {
      "id": "q13",
      "type": "multiple_choice",
      "topic": "Trap și Error Handling",
      "bloom_level": "apply",
      "points": 6,
      "question": "Având codul:\n```bash\n#!/bin/bash\nset -e\n\ncleanup() {\n    echo \"Cleanup executat\"\n}\ntrap cleanup EXIT\n\necho \"Start\"\nfalse\necho \"End\"\n```\n\nCe afișează?",
      "answers": [
        {
          "text": "Start apoi Cleanup executat",
          "correct": true,
          "feedback": "CORECT - trap EXIT se execută ÎNTOTDEAUNA"
        },
        {
          "text": "Start, End, Cleanup executat",
          "correct": false,
          "feedback": "set -e oprește la false, End nu se afișează"
        },
        {
          "text": "Doar Start",
          "correct": false,
          "feedback": "trap EXIT tot se execută"
        },
        {
          "text": "Cleanup executat apoi Start",
          "correct": false,
          "feedback": "trap se execută la EXIT, nu la start"
        }
      ]
    },
    {
      "id": "q14",
      "type": "multiple_choice",
      "topic": "Trap și Error Handling",
      "bloom_level": "understand",
      "points": 6,
      "question": "Având codul:\n```bash\n#!/bin/bash\n\ncleanup() { echo \"Cleanup\"; }\ntrap cleanup EXIT\n\n(\n    echo \"În subshell\"\n    exit 1\n)\n\necho \"După subshell: $?\"\n```\n\nCâte Cleanup apar?",
      "answers": [
        {
          "text": "0",
          "correct": false,
          "feedback": "Trap-ul din scriptul principal tot se execută"
        },
        {
          "text": "1",
          "correct": true,
          "feedback": "CORECT - trap NU se moștenește în subshell"
        },
        {
          "text": "2",
          "correct": false,
          "feedback": "Trap-ul nu se moștenește"
        },
        {
          "text": "Depinde de versiunea Bash",
          "correct": false,
          "feedback": "Comportamentul e consistent"
        }
      ]
    },
    {
      "id": "q15",
      "type": "multiple_choice",
      "topic": "Consolidare",
      "bloom_level": "remember",
      "points": 5,
      "question": "Având codul:\n```bash\n\n```\n\nCare e ordinea corectă a secțiunilor într-un script profesional?",
      "answers": [
        {
          "text": "Shebang → Main → Functions → Trap → Constants",
          "correct": false,
          "feedback": "Main trebuie la final"
        },
        {
          "text": "Shebang → Constants → Functions → Trap → Main",
          "correct": false,
          "feedback": "Lipsește set -euo pipefail"
        },
        {
          "text": "Shebang → set -euo pipefail → Constants → Functions → Trap → Parse Args → Main",
          "correct": true,
          "feedback": "CORECT - structura standard profesională"
        },
        {
          "text": "Main → Functions → Shebang → Trap",
          "correct": false,
          "feedback": "Shebang trebuie prima linie"
        }
      ]
    },
    {
      "id": "q16",
      "type": "multiple_choice",
      "topic": "Consolidare",
      "bloom_level": "analyse",
      "points": 8,
      "question": "Având codul:\n```bash\n#!/bin/bash\nset -euo pipefail\n\ndeclare -a files\nfiles=$(find . -name \"*.txt\")\n\nfor f in ${files[@]}; do\n    process \"$f\"\ndone\n```\n\nCâte bug-uri are acest cod?",
      "answers": [
        {
          "text": "1",
          "correct": false,
          "feedback": "Sunt mai multe probleme"
        },
        {
          "text": "2",
          "correct": false,
          "feedback": "Mai e una"
        },
        {
          "text": "3",
          "correct": true,
          "feedback": "CORECT - assignment greșit, lipsă ghilimele, declare redundant"
        },
        {
          "text": "4 sau mai multe",
          "correct": false,
          "feedback": "Sunt exact 3 principale"
        }
      ]
    },
    {
      "id": "q17",
      "type": "multiple_choice",
      "topic": "Consolidare",
      "bloom_level": "evaluate",
      "points": 6,
      "question": "Având codul:\n```bash\n\n```\n\nCare afirmație este FALSĂ despre best practices în Bash?",
      "answers": [
        {
          "text": "local trebuie folosit pentru toate variabilele din funcții",
          "correct": false,
          "feedback": "ADEVĂRAT - previne efecte secundare"
        },
        {
          "text": "declare -A e obligatoriu pentru arrays asociative",
          "correct": false,
          "feedback": "ADEVĂRAT - altfel sunt tratate ca indexate"
        },
        {
          "text": "set -e oprește scriptul la absolut orice eroare",
          "correct": true,
          "feedback": "FALS - are multiple excepții (if, ||, &&, !, etc.)"
        },
        {
          "text": "\"${arr[@]}\" cu ghilimele e necesar pentru iterare corectă",
          "correct": false,
          "feedback": "ADEVĂRAT - previne word splitting"
        }
      ]
    },
    {
      "id": "q18",
      "type": "multiple_choice",
      "topic": "Consolidare",
      "bloom_level": "analyse",
      "points": 6,
      "question": "Având codul:\n```bash\n#!/bin/bash\nDEBUG=\"${DEBUG:-false}\"\n\nprocess() {\n    local file=\"$1\"\n    $DEBUG && echo \"[DEBUG] Processing: $file\" >&2\n    # ... procesare\n}\n```\n\nCe face $DEBUG && echo ...?",
      "answers": [
        {
          "text": "Întotdeauna afișează mesajul debug",
          "correct": false,
          "feedback": "Depinde de valoarea DEBUG"
        },
        {
          "text": "Afișează mesajul doar dacă DEBUG=\"true\"",
          "correct": true,
          "feedback": "CORECT - $DEBUG se execută ca comandă"
        },
        {
          "text": "Afișează mesajul dacă DEBUG e orice valoare non-goală",
          "correct": false,
          "feedback": "false ca string nu e comandă validă"
        },
        {
          "text": "Eroare de sintaxă",
          "correct": false,
          "feedback": "Sintaxa e validă"
        }
      ]
    }
  ]
}
