# ==============================================================================
# DEPLOYER - Configuration File
# ==============================================================================
# Standard locations: ./etc/deployer.conf, ~/.config/deployer/deployer.conf,
#                     /etc/deployer.conf, /etc/deployer/deployer.conf
# ==============================================================================

# ==============================================================================
# ENVIRONMENT
# ==============================================================================

# Deployment environment: development, staging, production
ENVIRONMENT=production

# Deployment strategy: rolling, blue-green, canary, in-place
STRATEGY=rolling

# ==============================================================================
# DIRECTORIES
# ==============================================================================

# Root for deployment files
DEPLOY_ROOT=/opt/deploy

# Directory for backups before deployment
BACKUP_DIR=/var/backup/deploy

# Directory for logs
LOG_DIR=/var/log/deployer

# Directory for runtime files (PID, lock)
RUN_DIR=/var/run/deployer

# Directory with custom hooks
HOOKS_DIR=/opt/deploy/hooks

# ==============================================================================
# SERVICES
# ==============================================================================

# List of systemd services to deploy (comma-separated)
# SERVICES=nginx,php-fpm,mysql

# List of Docker containers to deploy (comma-separated)
# CONTAINERS=web-app,api-server,redis

# ==============================================================================
# HEALTH CHECKS
# ==============================================================================

# Enable health checks after deployment
HEALTH_CHECK_ENABLED=true

# Number of retries for health check
HEALTH_CHECK_RETRIES=3

# Interval between retries (seconds)
HEALTH_CHECK_INTERVAL=5

# Timeout for each health check (seconds)
HEALTH_CHECK_TIMEOUT=30

# ==============================================================================
# SERVICE SETTINGS
# ==============================================================================

# Delay after service restart (for stabilisation)
SERVICE_RESTART_DELAY=5

# Timeout for stopping service
SERVICE_STOP_TIMEOUT=30

# Timeout for starting service
SERVICE_START_TIMEOUT=60

# ==============================================================================
# DOCKER SETTINGS
# ==============================================================================

# Docker registry (empty for Docker Hub)
# DOCKER_REGISTRY=registry.example.com

# Timeout for pulling image (seconds)
DOCKER_PULL_TIMEOUT=300

# Timeout for stopping container
CONTAINER_STOP_TIMEOUT=30

# ==============================================================================
# ROLLBACK
# ==============================================================================

# Enable automatic rollback on errors
ROLLBACK_ON_FAILURE=true

# ==============================================================================
# NOTIFICATIONS
# ==============================================================================

# Email for notifications
# NOTIFY_EMAIL=contact_eliminat

# Slack webhook for notifications
# SLACK_WEBHOOK=https://hooks.slack.com/services/XXX/YYY/ZZZ

# Notify on success
NOTIFY_ON_SUCCESS=false

# Notify on errors
NOTIFY_ON_FAILURE=true

# ==============================================================================
# LOGGING
# ==============================================================================

# Log level: DEBUG, INFO, WARN, ERROR
LOG_LEVEL=INFO

# Log file (empty to not log to file)
# LOG_FILE=/var/log/deployer/deployer.log

# ==============================================================================
# ADVANCED
# ==============================================================================

# Parallel execution (experimental)
# PARALLEL=false

# Nice level for processes (0-19)
# NICE_LEVEL=10
