<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 450" width="900" height="450">
  <defs>
    <style>
      .process { fill: #e8f5e9; stroke: #388e3c; stroke-width: 2; rx: 8; }
      .fd { fill: #fff3e0; stroke: #f57c00; stroke-width: 2; rx: 4; }
      .file { fill: #fce4ec; stroke: #c2185b; stroke-width: 2; }
      .pipe { fill: #e1f5fe; stroke: #0288d1; stroke-width: 2; rx: 10; }
      .arrow { fill: none; stroke: #424242; stroke-width: 2; marker-end: url(#arrowhead); }
      .arrow-data { fill: none; stroke: #1976d2; stroke-width: 3; marker-end: url(#arrowblue); }
      .text { font-family: 'Segoe UI', Arial, sans-serif; font-size: 12px; fill: #212121; }
      .text-title { font-family: 'Segoe UI', Arial, sans-serif; font-size: 16px; font-weight: bold; fill: #1565c0; }
      .text-code { font-family: 'Courier New', monospace; font-size: 11px; fill: #424242; }
      .text-fd { font-family: 'Courier New', monospace; font-size: 10px; font-weight: bold; fill: #e65100; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#424242"/>
    </marker>
    <marker id="arrowblue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#1976d2"/>
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="450" y="25" text-anchor="middle" class="text-title">Pipe și Redirect — Flux de Date</text>
  
  <!-- Section 1: Basic Pipe -->
  <text x="50" y="60" class="text-title">1. Pipe (|)</text>
  <text x="50" y="80" class="text-code">cat file.txt | grep "pattern" | wc -l</text>
  
  <!-- Process boxes -->
  <rect x="50" y="100" width="100" height="50" class="process"/>
  <text x="100" y="125" text-anchor="middle" class="text">cat</text>
  <text x="100" y="140" text-anchor="middle" class="text-fd">stdout→</text>
  
  <rect x="200" y="100" width="40" height="50" class="pipe"/>
  <text x="220" y="130" text-anchor="middle" class="text">|</text>
  
  <rect x="290" y="100" width="100" height="50" class="process"/>
  <text x="340" y="125" text-anchor="middle" class="text">grep</text>
  <text x="340" y="140" text-anchor="middle" class="text-fd">→stdout→</text>
  
  <rect x="440" y="100" width="40" height="50" class="pipe"/>
  <text x="460" y="130" text-anchor="middle" class="text">|</text>
  
  <rect x="530" y="100" width="100" height="50" class="process"/>
  <text x="580" y="125" text-anchor="middle" class="text">wc -l</text>
  <text x="580" y="140" text-anchor="middle" class="text-fd">→stdout</text>
  
  <!-- Arrows for pipe -->
  <line x1="150" y1="125" x2="200" y2="125" class="arrow-data"/>
  <line x1="240" y1="125" x2="290" y2="125" class="arrow-data"/>
  <line x1="390" y1="125" x2="440" y2="125" class="arrow-data"/>
  <line x1="480" y1="125" x2="530" y2="125" class="arrow-data"/>
  
  <!-- Section 2: Output Redirect -->
  <text x="50" y="200" class="text-title">2. Output Redirect (>, >>)</text>
  
  <rect x="50" y="220" width="100" height="50" class="process"/>
  <text x="100" y="245" text-anchor="middle" class="text">echo</text>
  
  <!-- FD boxes -->
  <rect x="180" y="210" width="60" height="25" class="fd"/>
  <text x="210" y="227" text-anchor="middle" class="text-fd">fd 1</text>
  
  <rect x="180" y="250" width="60" height="25" class="fd"/>
  <text x="210" y="267" text-anchor="middle" class="text-fd">fd 2</text>
  
  <!-- File -->
  <polygon points="320,220 380,220 380,280 320,280 300,250" class="file"/>
  <text x="345" y="255" text-anchor="middle" class="text">file.txt</text>
  
  <line x1="150" y1="235" x2="180" y2="222" class="arrow"/>
  <line x1="150" y1="255" x2="180" y2="262" class="arrow"/>
  <line x1="240" y1="222" x2="300" y2="250" class="arrow-data"/>
  
  <text x="260" y="215" class="text-code">> (overwrite)</text>
  <text x="260" y="290" class="text-code">>> (append)</text>
  
  <!-- Section 3: Input Redirect -->
  <text x="450" y="200" class="text-title">3. Input Redirect (<)</text>
  
  <polygon points="500,220 560,220 560,280 500,280 480,250" class="file"/>
  <text x="525" y="255" text-anchor="middle" class="text">input.txt</text>
  
  <rect x="620" y="210" width="60" height="25" class="fd"/>
  <text x="650" y="227" text-anchor="middle" class="text-fd">fd 0</text>
  
  <rect x="720" y="220" width="100" height="50" class="process"/>
  <text x="770" y="250" text-anchor="middle" class="text">sort</text>
  
  <line x1="560" y1="250" x2="620" y2="222" class="arrow-data"/>
  <line x1="680" y1="222" x2="720" y2="245" class="arrow"/>
  
  <!-- Section 4: stderr redirect -->
  <text x="50" y="330" class="text-title">4. Stderr Redirect (2>)</text>
  <text x="50" y="350" class="text-code">command 2>/dev/null</text>
  
  <rect x="50" y="370" width="100" height="50" class="process"/>
  <text x="100" y="395" text-anchor="middle" class="text">command</text>
  
  <rect x="180" y="360" width="60" height="25" class="fd"/>
  <text x="210" y="377" text-anchor="middle" class="text-fd">fd 1</text>
  
  <rect x="180" y="400" width="60" height="25" class="fd"/>
  <text x="210" y="417" text-anchor="middle" class="text-fd">fd 2</text>
  
  <text x="300" y="377" class="text">→ terminal</text>
  <polygon points="300,405 350,405 350,430 300,430 280,417" class="file" style="fill:#f5f5f5"/>
  <text x="325" y="422" text-anchor="middle" class="text-code">/dev/null</text>
  
  <line x1="150" y1="385" x2="180" y2="372" class="arrow"/>
  <line x1="150" y1="405" x2="180" y2="412" class="arrow"/>
  <line x1="240" y1="372" x2="290" y2="372" class="arrow-data"/>
  <line x1="240" y1="412" x2="280" y2="417" class="arrow-data"/>
  
  <!-- Legend -->
  <rect x="500" y="340" width="15" height="15" class="process"/>
  <text x="525" y="352" class="text">Proces</text>
  
  <rect x="500" y="365" width="15" height="15" class="fd"/>
  <text x="525" y="377" class="text">File Descriptor</text>
  
  <polygon points="500,390 515,390 515,405 500,405 495,397" class="file"/>
  <text x="525" y="402" class="text">Fișier</text>
  
  <rect x="500" y="415" width="15" height="15" class="pipe"/>
  <text x="525" y="427" class="text">Pipe</text>
  
  <!-- Footer -->
  <text x="450" y="445" text-anchor="middle" class="text" style="fill:#757575">SEM06 CAPSTONE - Sisteme de Operare | ASE București</text>
</svg>
