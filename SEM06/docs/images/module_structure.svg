<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 450" font-family="Consolas, monospace">
  <!-- Background -->
  <rect width="700" height="450" fill="#1a1a2e"/>
  
  <!-- Title -->
  <text x="350" y="30" text-anchor="middle" fill="#e0e0e0" font-size="18" font-weight="bold">Modular Script Architecture</text>
  
  <!-- Entry Point Layer -->
  <rect x="230" y="55" width="240" height="60" rx="8" fill="#0f3460" stroke="#00d9ff" stroke-width="2"/>
  <text x="350" y="82" text-anchor="middle" fill="#00d9ff" font-size="14" font-weight="bold">ENTRY POINT</text>
  <text x="350" y="102" text-anchor="middle" fill="#a0a0a0" font-size="11">monitor.sh | backup.sh | deployer.sh</text>
  
  <!-- Arrow down -->
  <line x1="350" y1="115" x2="350" y2="140" stroke="#4a90d9" stroke-width="2"/>
  <polygon points="350,150 345,140 355,140" fill="#4a90d9"/>
  <text x="365" y="137" fill="#6c757d" font-size="9">source</text>
  
  <!-- Library Layer -->
  <rect x="50" y="155" width="600" height="130" rx="10" fill="#16213e" stroke="#ffd93d" stroke-width="2"/>
  <text x="350" y="180" text-anchor="middle" fill="#ffd93d" font-size="13" font-weight="bold">LIBRARY LAYER (lib/)</text>
  
  <!-- Core.sh -->
  <rect x="80" y="195" width="160" height="70" rx="6" fill="#1a1a3a" stroke="#00ff88" stroke-width="1.5"/>
  <text x="160" y="218" text-anchor="middle" fill="#00ff88" font-size="12" font-weight="bold">core.sh</text>
  <text x="160" y="238" text-anchor="middle" fill="#888" font-size="9">• log_info/warn/error</text>
  <text x="160" y="253" text-anchor="middle" fill="#888" font-size="9">• die(), cleanup()</text>
  
  <!-- Config.sh -->
  <rect x="270" y="195" width="160" height="70" rx="6" fill="#1a1a3a" stroke="#ff6b6b" stroke-width="1.5"/>
  <text x="350" y="218" text-anchor="middle" fill="#ff6b6b" font-size="12" font-weight="bold">config.sh</text>
  <text x="350" y="238" text-anchor="middle" fill="#888" font-size="9">• load_config()</text>
  <text x="350" y="253" text-anchor="middle" fill="#888" font-size="9">• validate_config()</text>
  
  <!-- Utils.sh -->
  <rect x="460" y="195" width="160" height="70" rx="6" fill="#1a1a3a" stroke="#a78bfa" stroke-width="1.5"/>
  <text x="540" y="218" text-anchor="middle" fill="#a78bfa" font-size="12" font-weight="bold">utils.sh</text>
  <text x="540" y="238" text-anchor="middle" fill="#888" font-size="9">• get_cpu_usage()</text>
  <text x="540" y="253" text-anchor="middle" fill="#888" font-size="9">• check_health()</text>
  
  <!-- Loading Order -->
  <path d="M240 230 L270 230" fill="none" stroke="#555" stroke-width="1" marker-end="url(#smallarrow)"/>
  <path d="M430 230 L460 230" fill="none" stroke="#555" stroke-width="1" marker-end="url(#smallarrow)"/>
  <text x="255" y="224" fill="#555" font-size="8">1st</text>
  <text x="445" y="224" fill="#555" font-size="8">2nd</text>
  
  <!-- Arrow marker -->
  <defs>
    <marker id="smallarrow" markerWidth="6" markerHeight="6" refX="5" refY="3" orient="auto">
      <path d="M0,0 L0,6 L6,3 z" fill="#555"/>
    </marker>
  </defs>
  
  <!-- Configuration Layer -->
  <rect x="150" y="310" width="180" height="55" rx="6" fill="#2d2d44" stroke="#6c757d" stroke-width="1.5"/>
  <text x="240" y="333" text-anchor="middle" fill="#aaa" font-size="12" font-weight="bold">etc/*.conf</text>
  <text x="240" y="353" text-anchor="middle" fill="#666" font-size="9">External configuration</text>
  
  <!-- Runtime Layer -->
  <rect x="370" y="310" width="180" height="55" rx="6" fill="#2d2d44" stroke="#6c757d" stroke-width="1.5"/>
  <text x="460" y="333" text-anchor="middle" fill="#aaa" font-size="12" font-weight="bold">var/log/, var/run/</text>
  <text x="460" y="353" text-anchor="middle" fill="#666" font-size="9">Runtime data</text>
  
  <!-- Arrows to lower layers -->
  <line x1="160" y1="265" x2="200" y2="310" stroke="#4a4a6a" stroke-width="1" stroke-dasharray="4,2"/>
  <line x1="540" y1="265" x2="500" y2="310" stroke="#4a4a6a" stroke-width="1" stroke-dasharray="4,2"/>
  
  <!-- Subgoal Labels -->
  <rect x="50" y="385" width="600" height="45" rx="6" fill="#0f0f1a" stroke="#3a3a5a"/>
  <text x="350" y="405" text-anchor="middle" fill="#6c757d" font-size="11">SUBGOAL LABELS: SETUP → PARSE_ARGS → LOAD_LIBS → VALIDATE → MAIN → OUTPUT → CLEANUP</text>
  <text x="350" y="420" text-anchor="middle" fill="#4a4a6a" font-size="9">Each section clearly labelled for pedagogical clarity</text>
  
  <!-- Footer -->
  <text x="350" y="442" text-anchor="middle" fill="#3a3a5a" font-size="9">SEM06 — Modular Bash Architecture</text>
</svg>
